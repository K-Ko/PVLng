<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!--
/**
 *
 * @author      Knut Kohl <github@knutkohl.de>
 * @copyright   2012-2013 Knut Kohl
 * @license     GNU General Public License http://www.gnu.org/licenses/gpl.txt
 * @version     1.0.0
 */
-->
<SQL>

	<ReadingCounts>
		<![CDATA[
		SELECT c.`name`, c.`description`, c.`serial`, c.`channel`, t.`icon`, u.`readings`
		  FROM (
			SELECT `id`, COUNT(id) AS `readings` FROM `pvlng_reading_num` GROUP BY `id`
			UNION
			SELECT `id`, COUNT(id) AS `readings` FROM `pvlng_reading_str` GROUP BY `id`
		  ) AS u
		  JOIN `pvlng_channel` AS c USING(`id`)
		  JOIN `pvlng_type` AS t ON c.`type`= t.`id`
		]]>
	</ReadingCounts>

</SQL>