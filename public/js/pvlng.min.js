window.alert=function(e,t){1==arguments.length&&(t=""),$("<div/>").dialog({title:t,resizable:!1,modal:!0,width:480,buttons:{Ok:function(){$(this).dialog("close")}},close:function(){$(this).remove()}}).html(e)};var pvlng=new function(){this.cookie=new function(){this.set=function(e,t,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),n="; expires="+o.toGMTString()}document.cookie=escape(e)+"="+escape(t)+n+"; path=/"},this.get=function(e){for(var t=escape(e)+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return unescape(o.substring(t.length,o.length))}return null},this.remove=function(e){this.set(e,"",-1)}},this.onFinished=new function(){var e=[];this.add=function(){$.each(arguments,function(t,i){e.push(i)})},this.run=function(){$.each(e,function(e,t){t()})}},this.menu=new function(){var e=this;this.Timer=null,this.setTimer=function(){e.Timer||(e.Timer=setTimeout(function(){$("#submenu").parent().hide(),e.unsetTimer()},3e3))},this.unsetTimer=function(){e.Timer&&(e.Timer=clearTimeout(e.Timer))}},this.scroll=function(e){$("html, body").animate({scrollTop:$(e).offset().top-3},2e3)},this.alert=function(e,t){1==arguments.length&&(t=""),$("<div/>").dialog({title:t,resizable:!1,modal:!0,width:480,buttons:{Ok:function(){$(this).dialog("close")}},close:function(){$(this).remove()}}).html(e).find(".ui-dialog-titlebar-close").remove()};this.verbose=!1,this.Overlay=function(){this.show=function(){this.overlay.show()},this.hide=function(){this.overlay.hide(),$("#container").show()},this.overlay=$("<div/>").height($(document).height()).css({display:"none",position:"fixed",top:0,left:0,width:"100%",backgroundColor:"#FFF",zIndex:1e3}).append($("<img/>").prop("src","/images/loading_dots.gif").css({width:"64px",height:"21px",position:"fixed",top:window.innerHeight/2-15+"px",left:window.innerWidth/2-32+"px"})).appendTo("body")},this.addClearSearchButton=function(e,t){$("<img />").prop("src","/images/ico/cross-script.png").appendTo($("#"+e+"_filter")).css({marginLeft:"4px",cursor:"pointer"}).prop("title",t).tipTip().click(function(){$(this).parent().find("input").val("").trigger("keyup").focus()})},this.log=function(){this.verbose&&(console.timeEnd("Duration"),console.time("Duration"),1==arguments.length?console.log(arguments[0]):($(arguments).each(function(e,t){0==e?console.group(t):"[object Array]"===Object.prototype.toString.call(t)?console.table(t):console.log(t)}),console.groupEnd()))},this.changeDates=function(e){e*=864e5;var t=new Date(Date.parse($("#from").datepicker("getDate"))+e),i=new Date(Date.parse($("#to").datepicker("getDate"))+e);return i>new Date?void $.pnotify({type:"info",text:"Can't go beyond today."}):($("#from").datepicker("option","maxDate",i).datepicker("setDate",t),$("#to").datepicker("option","minDate",t).datepicker("setDate",i),void updateOutput())},this.changePreset=function(){var e=$("#preset").val().match(/(\d+)(\w+)/);if(e){var t=new Date($("#from").datepicker("getDate"));switch(e[2]){case"d":t.setDate(1);break;case"w":t.setDate(1);break;case"m":t.setDate(1),t.setMonth(0)}$("#from").datepicker("setDate",t),$("#periodcnt").val(e[1]),$("#period").val(e[2])}else $("#periodcnt").val(1),$("#period").val("");$("#period").trigger("change")}};$(function(){$("a.module").hover(function(){var e=submenus[$(this).data("module")];if(e){pvlng.menu.unsetTimer();var t=$("#submenu").empty();$.each(e,function(e,i){$("<a/>").prop("href",i.ROUTE).text(i.LABEL).prop("title",i.HINT).tipTip().appendTo(t).hover(pvlng.menu.unsetTimer,pvlng.menu.setTimer)}),t.buttonset().parent().show()}},pvlng.menu.setTimer),$("#btn-reset").button({icons:{primary:"ui-icon-calendar"},label:"&nbsp;",text:!1}).click(function(e){e.preventDefault();var t=new Date;$("#from").datepicker("option","maxDate",t),$("#to").datepicker("option","minDate",t),$("#from").datepicker("setDate",t),$("#to").datepicker("setDate",t),updateOutput()}),$("#preset").change(function(){pvlng.changePreset(),updateOutput()})});